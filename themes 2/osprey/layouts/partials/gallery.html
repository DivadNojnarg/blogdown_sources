<section class="gallery" id="work">
    <div class="row">

        {{ range .Data.Pages.Reverse }}
        {{ if eq .Type "gallery" }}
        {{ $galleryTotal := sub (len (where .Site.Pages "Section" "gallery")) 1 }}
        <div class='col-xs-12{{ if gt $galleryTotal 1 }} col-md-6{{ if gt $galleryTotal 2 }}{{ if modBool $galleryTotal 2 }} col-lg-3{{ end }}{{ if modBool $galleryTotal 3 }} col-lg-4{{ end }}{{ end }}{{ end }}' {{ if .Params.color }}style="background-color:{{ .Params.color }}"{{ end }}>
            <img src="/images/{{ .Params.image}}" {{ if .Params.alt }}alt="{{ .Params.alt }}"{{ end }}>
            <div class="row middle-xs center-xs overlay">
                <div class="col-xs-12">
                    <h2>{{ .Title }}</h2>
                    <div class="row middle-xs center-xs">
                        {{ if .Params.link1 }}<div class="col-xs-3 col-md-4"><a href="{{ .Params.link1 }}"><h3>View</h3></a></div>{{ end }}
                        {{ if .Params.link2 }}<div class="col-xs-3 col-md-4"><a href="{{ .Params.link2 }}"><h3>Code</h3></a></div>{{ end }}
                    </div>
                </div>
            </div>
        </div>
        {{ end }}
        {{ end }}

    </div>
</section>
